<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Session 3: Break It on Purpose</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/theme/night.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/plugin/highlight/monokai.min.css">
<style>
  :root {
    --r-heading-font: 'Georgia', serif;
    --r-main-font: 'Segoe UI', 'Helvetica Neue', sans-serif;
    --r-heading-color: #fbbf24;
    --r-link-color: #60a5fa;
    --r-link-color-hover: #93c5fd;
  }
  .reveal { font-size: 32px; }
  .reveal h1, .reveal h2, .reveal h3 { text-transform: none; }
  .reveal h1 { font-size: 2.2em; }
  .reveal h2 { font-size: 1.5em; color: #fbbf24; }
  .reveal h3 { font-size: 1.1em; color: #9ca3af; }

  .reveal .slides section { text-align: left; }
  .reveal .slides section.center-slide { text-align: center; }

  .concept-box {
    background: linear-gradient(135deg, #1e3a5f, #1a1a2e);
    border: 2px solid #fbbf24;
    border-radius: 12px;
    padding: 1em 1.5em;
    margin: 0.8em 0;
    text-align: center;
    font-size: 1.3em;
    letter-spacing: 0.05em;
  }
  .concept-box .arrow { color: #fbbf24; font-weight: bold; }

  .vocab-term {
    color: #fbbf24;
    font-weight: bold;
  }

  .emoji-label { font-size: 1.4em; margin-right: 0.3em; }

  .two-col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5em;
    align-items: start;
  }

  .card {
    background: rgba(255,255,255,0.06);
    border-radius: 10px;
    padding: 0.8em 1em;
    margin: 0.4em 0;
  }

  .highlight-yellow { color: #fbbf24; }
  .highlight-blue { color: #60a5fa; }
  .highlight-green { color: #34d399; }
  .highlight-pink { color: #f472b6; }

  .small { font-size: 0.7em; color: #9ca3af; }

  code {
    background: rgba(255,255,255,0.1);
    padding: 0.1em 0.4em;
    border-radius: 4px;
    font-size: 0.9em;
  }
  .reveal pre code {
    max-height: 500px;
    font-size: 0.65em;
    line-height: 1.5;
    padding: 1em;
  }

  .observation-card {
    background: rgba(251,191,36,0.1);
    border-left: 4px solid #fbbf24;
    padding: 0.6em 1em;
    margin: 0.5em 0;
    border-radius: 0 8px 8px 0;
  }

  .try-it {
    background: rgba(52,211,153,0.1);
    border-left: 4px solid #34d399;
    padding: 0.6em 1em;
    margin: 0.5em 0;
    border-radius: 0 8px 8px 0;
  }

  .fragment.current-visible.visible:not(.current-fragment) {
    display: none;
  }
</style>
</head>
<body>
<div class="reveal">
<div class="slides">

<!-- ========== TITLE ========== -->
<section class="center-slide" data-background-gradient="linear-gradient(135deg, #0f172a, #1e293b)">
  <h1 style="font-size:2.5em;">Break It on Purpose</h1>
  <h3 style="color:#fbbf24;">Session 3</h3>
  <p style="margin-top:1.5em; color:#94a3b8;">Roots &middot; Iterative Space Building</p>
</section>

<!-- ========== TONIGHT'S GOAL ========== -->
<section>
  <h2>Tonight's Goal</h2>
  <p style="font-size:1.2em; text-align:center; margin:1em 0;">
    Find what <span class="highlight-pink">breaks</span> the AI,<br>
    then write code to <span class="highlight-green">fix it</span>.
  </p>
  <div class="concept-box">
    Silly Phrase Finder &mdash; with Cleaning
  </div>
  <p style="text-align:center; color:#9ca3af;">Same model as Session 1. New superpower: input cleaning.</p>
</section>

<!-- ========== SHOW AND TELL ========== -->
<section>
  <h2>Show-and-Tell</h2>
  <div class="observation-card" style="font-size:1.1em;">
    Did anyone try swapping a model into their Space?
  </div>
  <div style="margin-top:1em;">
    <div class="card">What model did you find?</div>
    <div class="card">Did it work? Did it break?</div>
    <div class="card">What was surprising?</div>
  </div>
</section>

<!-- ========== ADVERSARIAL INPUTS ========== -->
<section>
  <section>
    <h2>Let's Break It</h2>
    <p>Open the original Silly Phrase Finder. Feed it the <span class="highlight-pink">worst text you can think of</span>.</p>
    <div class="try-it" style="margin-top:1em;">
      <strong>Adversarial inputs to try:</strong>
    </div>
    <div class="card" style="font-size:0.85em;">
      <span class="emoji-label">üòÇ</span>
      <code>üéâüéâüéâ THIS IS THE BEST DAY EVER üòÇüòÇüòÇ I literally can't even rn</code>
    </div>
    <div class="card" style="font-size:0.85em;">
      <span class="emoji-label">üî§</span>
      <code>THIS IS ABSOLUTELY THE MOST RIDICULOUS THING I HAVE EVER SEEN</code>
    </div>
    <div class="card" style="font-size:0.85em;">
      <span class="emoji-label">üìé</span>
      <code>Rep. Johnson and Dr. Smith met with Gov. Williams at St. Mary's.</code>
    </div>
  </section>

  <section>
    <h2>More Ways to Break It</h2>
    <div class="card" style="font-size:0.85em;">
      <span class="emoji-label">„Ä∞Ô∏è</span>
      <code>The&nbsp;&nbsp;&nbsp;&nbsp;food&nbsp;&nbsp;&nbsp;was&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;really&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;good</code>
    </div>
    <div class="card" style="font-size:0.85em;">
      <span class="emoji-label">üîÅ</span>
      <code>soooooooo boooooored nothing ever happens in this townnnnnn</code>
    </div>
    <div class="card" style="font-size:0.85em;">
      <span class="emoji-label">üö´</span>
      <code>no caps no punctuation just vibes honestly the whole thing was wild</code>
    </div>
    <div class="card" style="font-size:0.85em;">
      <span class="emoji-label">üòâ</span>
      <code>I'm not NOT having a good time (if you know what I mean)</code>
    </div>
    <p class="fragment" style="margin-top:0.8em; color:#f472b6;">For each one: What did you <em>expect</em>? What <em>actually</em> happened?</p>
  </section>
</section>

<!-- ========== CATEGORIZE FAILURES ========== -->
<section>
  <h2>Name the Failures</h2>
  <p>These aren't bugs in our code. The code works fine.<br>The <span class="highlight-pink">input</span> is the problem.</p>
  <div class="two-col" style="margin-top:0.8em;">
    <div>
      <div class="card" style="border-left:3px solid #34d399;">
        <strong class="highlight-green">Noise</strong><br>
        <span class="small" style="font-size:0.85em;">emoji, extra spaces, repeated characters</span>
      </div>
      <div class="card" style="border-left:3px solid #34d399;">
        <strong class="highlight-green">Domain mismatch</strong><br>
        <span class="small" style="font-size:0.85em;">slang, mixed languages, abbreviations</span>
      </div>
      <div class="card" style="border-left:3px solid #34d399;">
        <strong class="highlight-green">Insufficient signal</strong><br>
        <span class="small" style="font-size:0.85em;">too short, no sentence boundaries</span>
      </div>
    </div>
    <div>
      <div class="card" style="border-left:3px solid #f472b6;">
        <strong class="highlight-pink">Ambiguity</strong><br>
        <span class="small" style="font-size:0.85em;">sarcasm, double negatives, context</span>
      </div>
      <div class="card" style="border-left:3px solid #f472b6;">
        <strong class="highlight-pink">Adversarial input</strong><br>
        <span class="small" style="font-size:0.85em;">deliberately confusing text</span>
      </div>
    </div>
  </div>
</section>

<!-- ========== CAN FIX vs CAN'T FIX ========== -->
<section>
  <h2>What Can We Fix?</h2>
  <div class="two-col">
    <div>
      <h3 style="color:#34d399;">We CAN fix</h3>
      <div class="card">Extra spaces</div>
      <div class="card">Repeated characters</div>
      <div class="card">Abbreviations</div>
      <div class="card">Emoji</div>
      <div class="card">ALL CAPS</div>
    </div>
    <div>
      <h3 style="color:#f472b6;">We CAN'T fix</h3>
      <div class="card">Sarcasm</div>
      <div class="card">Cultural context</div>
      <div class="card">Meaning / intent</div>
      <div class="card">Mixed languages</div>
      <div class="card">Ambiguity</div>
    </div>
  </div>
  <p class="fragment small" style="text-align:center; margin-top:0.5em;">The left column? That's <span class="highlight-yellow">data cleaning</span>. Let's build it.</p>
</section>

<!-- ========== BUILD: CLEAN_TEXT ========== -->
<section>
  <section>
    <h2>The Code: <code>clean_text()</code></h2>
    <p>A function that cleans messy input <em>before</em> the model ever sees it.</p>
    <pre><code class="language-python">def clean_text(text):
    # 1. Strip leading/trailing whitespace
    text = text.strip()

    # 2. Collapse multiple spaces into one
    text = re.sub(r' {2,}', ' ', text)

    # 3. Limit repeated characters ("sooooo" ‚Üí "soo")
    text = re.sub(r'(.)\1{2,}', r'\1\1', text)</code></pre>
    <p style="margin-top:0.5em;">Each step fixes <span class="highlight-yellow">one specific kind of noise</span>.</p>
  </section>

  <section>
    <h2>The Code: Abbreviations + Emoji</h2>
    <pre><code class="language-python">    # 4. Expand common abbreviations
    abbreviations = {
        "Rep.": "Representative",
        "Dr.": "Doctor",
        "Mr.": "Mister",
        "Gov.": "Governor",
        "St.": "Saint",
    }
    for abbr, full in abbreviations.items():
        text = text.replace(abbr, full)

    # 5. Remove emoji
    text = re.sub(
        r'[\U0001F600-\U0001F64F'
        r'\U0001F300-\U0001F5FF'
        r'\U0001F680-\U0001F6FF'
        r'\U00002600-\U000026FF]+',
        ' ', text
    )</code></pre>
  </section>

  <section>
    <h2>The Code: Normalize ALL CAPS</h2>
    <pre><code class="language-python">    # 6. Normalize ALL CAPS to Title Case
    words = text.split()
    caps_count = sum(1 for w in words
                     if w.isupper() and len(w) > 1)
    if caps_count > 3:
        text = text.title()

    # Clean up extra spaces from cleaning
    text = re.sub(r' {2,}', ' ', text).strip()

    return text</code></pre>
    <p style="margin-top:0.5em;">Then one line in <code>find_silliest()</code>:</p>
    <pre><code class="language-python">    cleaned = clean_text(text)</code></pre>
    <p>Use <code>cleaned</code> instead of <code>text</code> from here on.</p>
  </section>
</section>

<!-- ========== TEST THE FIX ========== -->
<section>
  <h2>Test the Fix</h2>
  <p>Run the <span class="highlight-yellow">same adversarial inputs</span> from earlier.</p>
  <div class="try-it">
    <strong>Compare: before cleaning vs. after cleaning</strong>
  </div>
  <div class="card fragment">Which inputs work <strong>better</strong> now?</div>
  <div class="card fragment">Which ones are <strong>still broken</strong>?</div>
  <div class="card fragment">What's in the "can't fix" column that no amount of cleaning will help with?</div>
  <div class="observation-card fragment" style="margin-top:0.5em;">
    "Data scientists spend a huge amount of time cleaning data before models ever see it.<br>
    Garbage in, garbage out."
  </div>
</section>

<!-- ========== CLEAR FRAMEWORK ========== -->
<section>
  <section>
    <h2>CLEAR Framework</h2>
    <p>A structure for writing good prompts to AI coding assistants.</p>
    <div style="margin-top:0.8em;">
      <div class="card"><strong class="highlight-yellow">C</strong> &mdash; <strong>Context</strong> &mdash; "I have a Gradio app that uses a zero-shot classifier..."</div>
      <div class="card"><strong class="highlight-blue">L</strong> &mdash; <strong>Language</strong> &mdash; "The code is in Python, using the transformers library..."</div>
      <div class="card"><strong class="highlight-green">E</strong> &mdash; <strong>Explain</strong> &mdash; "When I paste text with emoji and ALL CAPS, the model gives bad results..."</div>
      <div class="card"><strong class="highlight-pink">A</strong> &mdash; <strong>Ask</strong> &mdash; "Can you add a text cleaning function that..."</div>
      <div class="card"><strong class="highlight-yellow">R</strong> &mdash; <strong>Requirements</strong> &mdash; "It should handle emoji, repeated characters, and abbreviations."</div>
    </div>
  </section>

  <section>
    <h2>CLEAR in Action</h2>
    <p>Let's try it live with Claude or ChatGPT:</p>
    <div class="card" style="font-size:0.8em; line-height:1.6;">
      <strong class="highlight-yellow">Context:</strong> I have a Hugging Face Space that uses a zero-shot classifier to find the silliest phrase in a text passage.<br><br>
      <strong class="highlight-blue">Language:</strong> Python, using gradio, transformers, and re.<br><br>
      <strong class="highlight-green">Explain:</strong> When users paste messy text (emoji, ALL CAPS, repeated characters), the model gives unreliable results.<br><br>
      <strong class="highlight-pink">Ask:</strong> Add a <code>clean_text()</code> function that preprocesses the input.<br><br>
      <strong class="highlight-yellow">Requirements:</strong> Strip whitespace, collapse repeated characters, expand abbreviations, remove emoji, normalize ALL CAPS.
    </div>
  </section>
</section>

<!-- ========== NAME THE CONCEPT ========== -->
<section class="center-slide">
  <h2>Name the Concept</h2>
  <h3 style="color:#fbbf24; font-size:1.3em;">DATA CLEANING AND FEATURE ENGINEERING</h3>
  <div class="concept-box" style="font-size:1.2em;">
    <span class="highlight-pink">MESSY INPUT</span>
    <span class="arrow"> &rarr; </span>
    <span class="highlight-yellow">clean_text()</span>
    <span class="arrow"> &rarr; </span>
    <span class="highlight-blue">CLEANER INPUT</span>
    <span class="arrow"> &rarr; </span>
    <span class="highlight-green">MODEL</span>
    <span class="arrow"> &rarr; </span>
    OUTPUT
  </div>
  <p class="fragment" style="margin-top:1em;">
    The model didn't get smarter.<br>
    We just gave it <span class="highlight-yellow">better input to work with</span>.
  </p>
</section>

<!-- ========== VOCABULARY ========== -->
<section>
  <h2>Vocabulary</h2>
  <div class="card">
    <span class="vocab-term">Data cleaning</span> &mdash; preprocessing text to remove noise before the model sees it
  </div>
  <div class="card">
    <span class="vocab-term">Noise</span> &mdash; stuff in the input that confuses the model (emoji, extra spaces, weird formatting)
  </div>
  <div class="card">
    <span class="vocab-term">Adversarial input</span> &mdash; text deliberately designed to confuse or break a model
  </div>
  <div class="card">
    <span class="vocab-term">Feature engineering</span> &mdash; transforming raw input into something a model can work with better
  </div>
  <div class="card">
    <span class="vocab-term">Preprocessing</span> &mdash; any transformation applied to data before the model processes it
  </div>
  <div class="card">
    <span class="vocab-term">CLEAR Framework</span> &mdash; a structure for writing good prompts to AI coding assistants
  </div>
</section>

<!-- ========== NOTEBOOK TIME ========== -->
<section>
  <h2>Notebook Time</h2>
  <p>Open today's notebook and run the first few cells together.</p>
  <div class="try-it" style="margin-top:1em;">
    <strong>Link in the Zoom chat!</strong>
  </div>
  <div class="card" style="margin-top:0.8em;">
    <strong>1.</strong> Click the link ‚Üí it opens in Google Colab<br>
    <strong>2.</strong> Hit the <span class="highlight-yellow">play button ‚ñ∂</span> on the first cell<br>
    <strong>3.</strong> Run the setup cell, then try the experiments
  </div>
  <p class="small" style="margin-top:0.8em;">Finish the experiments on your own before next week</p>
</section>

<!-- ========== BETWEEN SESSIONS ========== -->
<section>
  <h2>Between Sessions</h2>
  <p><strong>Challenge:</strong> Use CLEAR to ask Claude or ChatGPT to add more cleaning steps.</p>
  <div class="card" style="margin-top:0.8em;">
    <strong>1.</strong> Paste your Space's <code>app.py</code> into the chat<br>
    <strong>2.</strong> Write a CLEAR prompt asking for a new cleaning step<br>
    <strong>3.</strong> Try the suggestion in your Space
  </div>
  <div style="margin-top:0.8em;">
    <p><strong>Ideas for new cleaning steps:</strong></p>
    <div class="card">Handle hashtags (<code>#blessed</code> &rarr; <code>blessed</code>)</div>
    <div class="card">Expand contractions (<code>can't</code> &rarr; <code>cannot</code>)</div>
    <div class="card">Remove URLs</div>
  </div>
</section>

<!-- ========== NEXT WEEK ========== -->
<section class="center-slide" data-background-gradient="linear-gradient(135deg, #0f172a, #1e293b)">
  <h2>Next Week</h2>
  <p style="font-size:1.3em;">Two models, head-to-head.</p>
  <p style="color:#9ca3af; margin-top:0.5em;">Three models read the same text.<br>We'll need to figure out how to keep score.</p>
</section>

</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/plugin/highlight/highlight.min.js"></script>
<script>
Reveal.initialize({
  hash: true,
  slideNumber: true,
  transition: 'slide',
  plugins: [RevealHighlight],
  width: 1280,
  height: 720,
  margin: 0.08
});
</script>
</body>
</html>
